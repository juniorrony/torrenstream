# ==============================================
# TorrentStream Environment Configuration
# ==============================================
# Copy this file to .env and update values for your environment

# ==============================================
# APPLICATION SETTINGS
# ==============================================
NODE_ENV=production
PORT=5000
CLIENT_PORT=3000

# Application URLs
API_URL=http://localhost:5000
CLIENT_URL=http://localhost:3000
REACT_APP_API_URL=http://localhost:5000

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# SQLite database file location
DATABASE_PATH=./data/torrents.db
DATABASE_BACKUP_PATH=./data/backups/

# Database connection settings
DB_CONNECTION_TIMEOUT=30000
DB_BUSY_TIMEOUT=5000

# ==============================================
# TORRENT SETTINGS
# ==============================================
# Download directory for torrent files
DOWNLOADS_PATH=./downloads
TEMP_PATH=./temp

# WebTorrent configuration
MAX_CONCURRENT_TORRENTS=10
MAX_DOWNLOAD_SPEED=0  # 0 = unlimited (bytes/sec)
MAX_UPLOAD_SPEED=0    # 0 = unlimited (bytes/sec)
DHT_ENABLED=true
TRACKER_ENABLED=true

# Torrent discovery sources (comma-separated)
TORRENT_SOURCES=1337x,nyaa,rarbg,torlock,torrentz2,yts

# ==============================================
# STREAMING SETTINGS
# ==============================================
# Video streaming configuration
STREAM_CHUNK_SIZE=1048576  # 1MB chunks
STREAM_BUFFER_SIZE=5242880 # 5MB buffer
VIDEO_FORMATS=mp4,webm,mov,m4v,avi,mkv
AUDIO_FORMATS=mp3,wav,aac,ogg,m4a,flac

# ==============================================
# SECURITY SETTINGS
# ==============================================
# CORS settings
CORS_ORIGIN=http://localhost:3000,http://localhost:80
CORS_CREDENTIALS=true

# Security headers
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes

# File upload limits
MAX_FILE_SIZE=52428800  # 50MB
ALLOWED_MIME_TYPES=application/x-bittorrent,text/plain

# ==============================================
# SSL/TLS CONFIGURATION (for HTTPS)
# ==============================================
# Enable HTTPS (requires SSL certificates)
HTTPS_ENABLED=false
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
SSL_CA_PATH=./ssl/ca.pem

# SSL redirect
FORCE_HTTPS=false
HTTPS_PORT=443

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_MAX_FILES=5

# Error tracking
ERROR_REPORTING_ENABLED=false
SENTRY_DSN=

# ==============================================
# PERFORMANCE SETTINGS
# ==============================================
# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600  # 1 hour in seconds

# Connection limits
MAX_CONNECTIONS=1000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# Compression
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024

# ==============================================
# MONITORING & HEALTH
# ==============================================
# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000  # 30 seconds

# Metrics collection
METRICS_ENABLED=false
METRICS_PORT=9090

# External monitoring
PING_URL=
UPTIME_CHECK_INTERVAL=300000  # 5 minutes

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
# Automatic backup settings
AUTO_BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000  # 24 hours in ms
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true

# External backup storage
BACKUP_S3_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1

# ==============================================
# DOCKER & DEPLOYMENT
# ==============================================
# Docker specific settings
DOCKER_HOST_DOWNLOADS=/host/path/to/downloads
DOCKER_HOST_DATA=/host/path/to/data
DOCKER_RESTART_POLICY=unless-stopped

# Load balancer settings (if using multiple instances)
INSTANCE_ID=torrentstream-1
CLUSTER_ENABLED=false
CLUSTER_NODES=

# ==============================================
# DEVELOPMENT SETTINGS
# ==============================================
# Development mode settings (set NODE_ENV=development)
DEV_HOT_RELOAD=true
DEV_OPEN_BROWSER=true
DEV_ERROR_OVERLAY=true
DEV_SOURCE_MAPS=true

# Mock data for testing
USE_MOCK_DATA=false
MOCK_TORRENT_COUNT=5

# ==============================================
# FEATURE FLAGS
# ==============================================
# Enable/disable specific features
TORRENT_DISCOVERY_ENABLED=true
VIDEO_STREAMING_ENABLED=true
AUDIO_STREAMING_ENABLED=true
DOWNLOAD_HISTORY_ENABLED=true
REAL_TIME_UPDATES_ENABLED=true

# Experimental features
EXPERIMENTAL_FEATURES=false
BETA_UI_ENABLED=false

# ==============================================
# THIRD-PARTY INTEGRATIONS
# ==============================================
# External API keys (if needed for future features)
TMDB_API_KEY=
OMDB_API_KEY=

# CDN settings
CDN_ENABLED=false
CDN_URL=

# Analytics
ANALYTICS_ENABLED=false
GOOGLE_ANALYTICS_ID=

# ==============================================
# PROXY SETTINGS (if behind proxy/firewall)
# ==============================================
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# Proxy authentication
PROXY_AUTH_ENABLED=false
PROXY_USERNAME=
PROXY_PASSWORD=

# ==============================================
# TIMEZONE & LOCALIZATION
# ==============================================
TIMEZONE=UTC
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,it,pt,ru,zh,ja,ko

# Date/time format
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss